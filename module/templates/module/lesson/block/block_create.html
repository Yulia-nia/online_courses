
{% load static %}

{#{% extends "module/lesson/edit.html" %}#}
{##}


    {% load crispy_forms_tags %}
    {% load django_bootstrap5 %}
{##}
{#{% block lesson_content %}#}



{#    <script type="text/javascript" src="{% static "js/tinymce/tinymce.min.js" %}"></script>#}
{#    <script src="/static/js/tinymce/tinymce.min.js"></script>#}




{% if messages %}
    {% for message in messages %}
        <p>{{ message }}</p>
    {% endfor %}
{% endif %}

<form method="post" enctype=multipart/form-data>
    {% csrf_token %}

    <label>Название блока</label>
    {{ block_form.title }}
    {% if block_form.title.errors %}
        {% for error in block_form.title.errors %}
            {{ error|escape }}
        {% endfor %}
    {% endif %}

    <label>Название блока</label>
    {{ block_form.text_content }}
    {% if block_form.text_content.errors %}
        {% for error in block_form.text_content.errors %}
            {{ error|escape }}
        {% endfor %}
    {% endif %}


    {{ file_formset.management_form }}

    {% for file_form in file_formset %}
        <p>dd</p>
        <div class="text-formset1">
        <p>aja</p>
{#            <textarea name="content">text#}
{#            </textarea>#}

            {% bootstrap_field file_form.title %}
{#            {{ text_form.content }}#}


            {% if file_form.content.errors %}
                {% for error in file_form.title.errors %}
                    {{ error|escape }}
                {% endfor %}
            {% endif %}


            {{ file_form.file }}
            {% if file_form.file.errors %}
                {% for error in file_form.file.errors %}
                    {{ error|escape }}
                {% endfor %}
            {% endif %}
        </div>
    {% endfor %}

    {% if file_formset.non_form_errors %}
        {% for error in file_formset.non_form_errors %}
            {{ error|escape }}
        {% endfor %}
    {% endif %}

    <input type="submit" value="Update Profile" class="button"/>
</form>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- Include formset plugin - including jQuery dependency -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="{% static "js/jquery.formset.js" %}"></script>


<script type="text/javascript">

    $('.text-formset1').formset({
        addText: 'add text',
        deleteText: 'remove'
    });

</script>

{##}
{# <form method="post" enctype=multipart/form-data>#}
{#     {% csrf_token %}#}
{#     <div>#}
{#         <h4 class="text-start">Название блока</h4>#}
{#                    <div class="d-flex align-items-center p-3 rounded"#}
{#                      style="border-left-color: #0d6efd; border-left-style: solid;#}
{#                      background-color: #cff4fc;#}
{#                      border-left-width: 7px;#}
{#                      padding-left: 10px;" >#}
{#                        <div class="text-sm-start">#}
{#                          <h5 class="h6 text-black-50 ">#}
{#                              Укажите здесь название блока.<br>#}
{#                          </h5>#}
{#                        </div>#}
{#                    </div>#}
{#                    <div class="mt-3">#}
{#                        {% bootstrap_field form.title class="custom-control-input"%}#}
{#                    </div>#}
{#                </div>#}
{#     <button button_type="submit" class="btn btn-primary">Сохранить</button>#}
{# </form>#}
{##}
{##}
{#        <section class="container py-3">#}
{#        <div class="bd-example">#}
{##}
{#           <nav>#}
{##}
{#                <div class="nav nav-tabs mb-3" id="nav-tab" role="tablist">#}
{##}
{#                    <div class="row mb-3">#}
{#                        {% for block in blocks %}#}
{#                            <div class="col-md-2 themed-grid-col">#}
{##}
{#                                 <a class="nav-link" id="nav-{{ block.id }}-tab" data-bs-toggle="tab"#}
{#                                    data-bs-target="#nav-{{ block.id }}" type="button" role="tab" aria-controls="nav-{{ block.id }}"#}
{#                                    aria-selected="true">{{ block.title }}</a>#}
{#                            </div>#}
{#                        {% endfor %}#}
{#                    </div>#}
{#                </div>#}
{#            </nav>#}
{#            <div class="tab-content" id="nav-tabContent">#}
{#            {% for block in blocks %}#}
{#                <div class="tab-pane fade" id="nav-{{ block.id }}" role="tabpanel" aria-labelledby="nav-{{ block.id }}-tab">#}
{#                    {{ block.title }}#}
{#                    {{ block.create }}#}
{##}
{#                    <div>#}
{#                        <p>добавить</p>#}
{#                        <a href="{% url 'module:add_text' block_id=block.id id=course.id%}">Текст</a> | <a href="#">Материал (файл)</a>#}
{#                    </div>#}
{#                </div>#}
{#                {% endfor %}#}
{#            </div>#}
{#             {% endfor %}#}
{#        </div>#}
{#    </section>#}

{##}
{##}
{#{% endblock %}#}
